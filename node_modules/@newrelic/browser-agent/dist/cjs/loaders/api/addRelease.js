"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setupAddReleaseAPI = setupAddReleaseAPI;
var _constants = require("./constants");
var _sharedHandlers = require("./sharedHandlers");
/**
 * Copyright 2020-2025 New Relic, Inc. All rights reserved.
 * SPDX-License-Identifier: Apache-2.0
 */

function setupAddReleaseAPI(agent) {
  let releaseCount = 0;
  (0, _sharedHandlers.setupAPI)(_constants.ADD_RELEASE, function (name, id) {
    if (++releaseCount > 10) return;
    this.runtime.releaseIds[name.slice(-200)] = ('' + id).slice(-200);
  }, agent);
}