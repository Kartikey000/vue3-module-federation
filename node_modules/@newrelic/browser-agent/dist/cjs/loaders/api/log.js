"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.log = log;
exports.setupLogAPI = setupLogAPI;
var _now = require("../../common/timing/now");
var _constants = require("../../features/logging/constants");
var _utils = require("../../features/logging/shared/utils");
var _constants2 = require("./constants");
var _sharedHandlers = require("./sharedHandlers");
/**
 * Copyright 2020-2025 New Relic, Inc. All rights reserved.
 * SPDX-License-Identifier: Apache-2.0
 */

function setupLogAPI(agent) {
  (0, _sharedHandlers.setupAPI)(_constants2.LOG, (message, options) => log(message, options, agent), agent);
}
function log(message, {
  customAttributes = {},
  level = _constants.LOG_LEVELS.INFO
} = {}, agentRef, targetEntityGuid, timestamp = (0, _now.now)()) {
  (0, _utils.bufferLog)(agentRef.ee, message, customAttributes, level, targetEntityGuid, timestamp);
}