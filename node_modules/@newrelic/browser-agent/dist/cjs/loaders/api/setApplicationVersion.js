"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setupSetApplicationVersionAPI = setupSetApplicationVersionAPI;
var _console = require("../../common/util/console");
var _constants = require("./constants");
var _sharedHandlers = require("./sharedHandlers");
/**
 * Copyright 2020-2025 New Relic, Inc. All rights reserved.
 * SPDX-License-Identifier: Apache-2.0
 */

function setupSetApplicationVersionAPI(agent) {
  /**
   * Attach the 'applcation.version' attribute onto agent payloads. This may be used in NR queries to group all browser events by a specific customer-defined release.
   * @param {string|null} value - Application version -- if null, will "unset" the value
   * @returns @see apiCall
   */
  (0, _sharedHandlers.setupAPI)(_constants.SET_APPLICATION_VERSION, function (value) {
    if (!(typeof value === 'string' || value === null)) {
      (0, _console.warn)(42, typeof value);
      return;
    }
    return (0, _sharedHandlers.appendJsAttribute)(agent, 'application.version', value, _constants.SET_APPLICATION_VERSION, false);
  }, agent);
}