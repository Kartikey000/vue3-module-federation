"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setupSetCustomAttributeAPI = setupSetCustomAttributeAPI;
var _console = require("../../common/util/console");
var _constants = require("./constants");
var _sharedHandlers = require("./sharedHandlers");
/**
 * Copyright 2020-2025 New Relic, Inc. All rights reserved.
 * SPDX-License-Identifier: Apache-2.0
 */

function setupSetCustomAttributeAPI(agent) {
  (0, _sharedHandlers.setupAPI)(_constants.SET_CUSTOM_ATTRIBUTE, function (name, value, persistAttribute = false) {
    if (typeof name !== 'string') {
      (0, _console.warn)(39, typeof name);
      return;
    }
    if (!(['string', 'number', 'boolean'].includes(typeof value) || value === null)) {
      (0, _console.warn)(40, typeof value);
      return;
    }
    return (0, _sharedHandlers.appendJsAttribute)(agent, name, value, _constants.SET_CUSTOM_ATTRIBUTE, persistAttribute);
  }, agent);
}